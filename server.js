const express = require('express');
const cors = require('cors'); // Optional, for enabling CORS

const app = express();
const port = 3000;

// Middleware to parse JSON requests
app.use(express.json());

// Enable CORS (optional, only needed if frontend and backend are on different domains)
app.use(cors());

// Example list of registered user IDs
const registeredUsers = new Set(['FCT48291', 'FCT30574', 'FCT91820', 'FCT62735', 'FCT21498', 'FCT73601', 'FCT54923', 'FCT86042', 'FCT19387', 'FCT47560',
    'FCT80213', 'FCT68452', 'FCT35790', 'FCT12984', 'FCT94321', 'FCT57068', 'FCT81645', 'FCT23097', 'FCT69182', 'FCT45230',
    'FCT18734', 'FCT32987', 'FCT76540', 'FCT98012', 'FCT64385', 'FCT27401', 'FCT85369', 'FCT59230', 'FCT71840', 'FCT23054',
    'FCT67091', 'FCT42867', 'FCT19534', 'FCT98065', 'FCT34178', 'FCT52649', 'FCT76930', 'FCT89342', 'FCT12087', 'FCT37450',
    'FCT69218', 'FCT54076', 'FCT83209', 'FCT65871', 'FCT47102', 'FCT20934', 'FCT39085', 'FCT67129', 'FCT54308', 'FCT81240',
    'FCT42958', 'FCT67231', 'FCT15084', 'FCT93426', 'FCT81750', 'FCT34627', 'FCT59018', 'FCT48163', 'FCT72304', 'FCT36521',
    'FCT90217', 'FCT54038', 'FCT13862', 'FCT76495', 'FCT38102', 'FCT67429', 'FCT29037', 'FCT10583', 'FCT85317', 'FCT26409',
    'FCT79830', 'FCT61572', 'FCT43180', 'FCT92704', 'FCT31865', 'FCT70623', 'FCT59142', 'FCT84219', 'FCT13750', 'FCT65390',
    'FCT29417', 'FCT87031', 'FCT54168', 'FCT23607', 'FCT98154', 'FCT76320', 'FCT40892', 'FCT32065', 'FCT21543', 'FCT64982',
    'FCT73015', 'FCT58647', 'FCT10428', 'FCT83276', 'FCT50934', 'FCT67285', 'FCT93071', 'FCT75142', 'FCT12869', 'FCT40395',
    'FCT82641', 'FCT57230', 'FCT91487', 'FCT30568', 'FCT71920', 'FCT62834', 'FCT58012', 'FCT46791', 'FCT20983', 'FCT36508',
    'FCT92134', 'FCT51087', 'FCT80326', 'FCT43729', 'FCT69501', 'FCT24376', 'FCT90815', 'FCT63427', 'FCT15280', 'FCT82749',
    'FCT49068', 'FCT70513', 'FCT31698', 'FCT87402', 'FCT25319', 'FCT64108', 'FCT92034', 'FCT50781', 'FCT83249', 'FCT36574',
    'FCT15820', 'FCT67951', 'FCT24138', 'FCT95067', 'FCT73412', 'FCT80529', 'FCT48265', 'FCT10674', 'FCT92308', 'FCT31750',
    'FCT86942', 'FCT52407', 'FCT70231', 'FCT19485', 'FCT58320', 'FCT30976', 'FCT86015', 'FCT43782', 'FCT17290', 'FCT69534',
    'FCT52018', 'FCT84739', 'FCT61402', 'FCT30875', 'FCT97216', 'FCT45109', 'FCT23587', 'FCT68143', 'FCT90472', 'FCT52730',
    'FCT39285', 'FCT74608', 'FCT51820', 'FCT93271', 'FCT68754', 'FCT12065', 'FCT50978', 'FCT84231', 'FCT47350', 'FCT69128',
    'FCT35742', 'FCT86091', 'FCT52973', 'FCT14380', 'FCT70125', 'FCT93864', 'FCT25407', 'FCT81532', 'FCT69248', 'FCT47316',
    'FCT90725', 'FCT68241', 'FCT35809', 'FCT14962', 'FCT50327', 'FCT84761', 'FCT91432', 'FCT69508', 'FCT72154', 'FCT18095',
    'FCT42307', 'FCT65291', 'FCT37048', 'FCT59126', 'FCT80534', 'FCT91476', 'FCT23850', 'FCT70689', 'FCT42035', 'FCT36918',
    'FCT75109', 'FCT54087', 'FCT68235', 'FCT93472', 'FCT30784', 'FCT84160', 'FCT42813', 'FCT72905', 'FCT50168', 'FCT61732',
    'FCT80374', 'FCT25391', 'FCT96820', 'FCT17430', 'FCT87260', 'FCT40958', 'FCT53207', 'FCT92841', 'FCT36509', 'FCT10754',
    'FCT58290', 'FCT34172', 'FCT90578', 'FCT73041', 'FCT28965', 'FCT84139', 'FCT60218', 'FCT95704', 'FCT43890', 'FCT72168',
    'FCT50942', 'FCT64320', 'FCT13087', 'FCT87941', 'FCT60235', 'FCT45329', 'FCT92807', 'FCT31948', 'FCT78520', 'FCT54691',
    'FCT87324', 'FCT69835', 'FCT15098', 'FCT48236', 'FCT90541', 'FCT32984', 'FCT75823', 'FCT69104', 'FCT58420', 'FCT34279',
    'FCT97106', 'FCT42587', 'FCT83641', 'FCT50978', 'FCT69524', 'FCT73810', 'FCT16425', 'FCT85319', 'FCT27084', 'FCT61548',
    'FCT93827', 'FCT50321', 'FCT78964', 'FCT61052', 'FCT37480', 'FCT84192', 'FCT62937', 'FCT50218', 'FCT57390', 'FCT86521'])
    
    ;

// Endpoint to validate user ID
app.post('/validate-user', (req, res) => {
    const { userId } = req.body;

    if (!userId) {
        return res.status(400).json({ valid: false, message: 'User ID is required.' });
    }

    if (registeredUsers.has(userId)) {
        return res.json({ valid: true, message: 'User ID is valid.' });
    } else {
        return res.json({ valid: false, message: 'Invalid user ID.' });
    }
});

// Start the server
app.listen(port, () => {
    console.log(`Server is running on http://localhost:${port}`);
});